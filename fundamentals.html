<!DOCTYPE html>

<html>

<head>

<title>Fun with click events</title>

<script type="text/javascript"
    src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js"></script>

<script type="text/javascript"
    src="https://ajax.googleapis.com/ajax/libs/dojo/1.6.0/dojo/dojo.xd.js"></script>

<style>
body
{
    width:960px;
    margin:auto;
    font-family:helvetica, sans-serif;
    font-size:14px;
}
table
{
    width:100%;
    border-collapse:collapse;
    border:5px solid lightgray;
}
tbody td, thead th
{
    text-align: left;
    border:1px solid lightgray;
    padding:1em;
}

</style>

</head>

<body>

<h1>Fun with click events</h1>

<h2>Block the anchor tag from doing its thing</h2>

<table>

<thead>
<tr>
<th>Link</th>
<th>Code</th>
</thead>

<tbody>

<tr>
<td><a href="http://google.com">Search</a></td>
<td>&lt;a href="http://google.com"&gt;Search&lt;/a&gt;</td>
</tr>

<tr>

<td><a href="http://google.com" onclick="alert('google is garbage!  Use duckduckgo.com'); return false;">Search</a></td>

<td>
&lt;a href="http://google.com" onclick="alert('google is garbage!  Use duckduckgo.com'); return false;"&gt;Search&lt;/a&gt;
</td>

</tr>
<tr>

<td><a href="http://google.com"
        onclick="alert('google is garbage!  Use duckduckgo.com');">Search</a></td>

<td>
&lt;a href="http://google.com"
        onclick="alert('google is garbage!  Use duckduckgo.com');"&gt;Search&lt;/a&gt;
</td>

</tr>
<tr>

<td><script>
var handle_click = function () {
    alert('Same thing...');
    return false;
};
</script>

<a href="http://google.com" onclick="return handle_click();">Search</a></td>

<td>
&lt;script&gt;
var handle_click = function () {
    alert('Same thing...');
    return false;
};
&lt;/script&gt;

&lt;a href="http://google.com" onclick="return handle_click();"&gt;Search&lt;/a&gt;
</td>

</tr>

<tr>
<td><a href="http://google.com" onclick="handle_click();">Search</a></td>
<td>&lt;a href="http://google.com" onclick="handle_click();"&gt;Search&lt;/a&gt;</td>
</tr>

<tr>
<td><a id="a-tag" href="http://google.com">Search</a>
<script>

var a = document.getElementById('a-tag');

a.addEventListener('click', function (event) {
    alert("Inside my click listener");
    event.preventDefault();
});

</script></td>
<td>&lt;a id="a-tag" href="http://google.com"&gt;Search&lt;/a&gt;
&lt;script&gt;

var a = document.getElementById('a-tag');

a.addEventListener('click', function (event) {
    alert("Inside my click listener");
    event.preventDefault();
});

&lt;/script&gt;</td>
</tr>
<tr>
<td><a id="a-tag-dojo" href="http://google.com">Search</a>

<script>

dojo.query('#a-tag-dojo').connect('click', function (event) {
    alert("dojo!");
    dojo.stopEvent(event);
});

</script></td>
<td>&lt;a id="a-tag-dojo" href="http://google.com"&gt;Search&lt;/a&gt;

&lt;script&gt;

dojo.query('#a-tag-dojo').connect('click', function (event) {
    alert("dojo!");
    dojo.stopEvent(event);
});

&lt;/script&gt;</td>
</tr>

<tr>
<td><a id="a-tag-jquery" href="http://google.com">Search</a>

<script>

$("#a-tag-jquery").click(function () {
    alert("jquery");
    return false;
});

</script></td>
<td>&lt;a id="a-tag-jquery" href="http://google.com"&gt;Search&lt;/a&gt;

&lt;script&gt;

$("#a-tag-jquery").click(function () {
    alert("jquery");
    return false;
});

&lt;/script&gt;</td>
</tr>

</tbody>

</table>



<h2>Extract the href attribute</h2>

<table>


<thead>
<tr>
<th>Link</th>
<th>Code</th>
</thead>

<tbody>

<tr>

<td>
<a id="js-extract" href="/javascript-and-ribs/popup.html">with javascript</a>

<script>
var a_js = document.getElementById('js-extract');

var e;

a_js.addEventListener('click', function (event) {
    e = event;
    alert(event.target.attributes.href.value);
    event.preventDefault();
});

</script>

</td>

<td>escaped code goes here</td>

</tr>

<tr>
<td><a href="/javascript-and-ribs/popup.html">with dojo</a></td>
<td>escaped code goes here</td>
</tr>

<tr>
<td><a href="/javascript-and-ribs/popup.html">with jquery</a></td>
<td>escaped code goes here</td>
</tr>

</tbody>

</table>

<h2>Load the content of another page into the box below</h2>

<div id="popup-goes-here" style="border:3px solid gray;width:200px;height:200px;"></div>

<table>


<thead>
<tr>
<th>Link</th>
<th>Code</th>
</thead>

<tbody>

<tr>

<td>
<a id="js-extract" href="/javascript-and-ribs/popup.html">with javascript</a>

<script>
var a_js = document.getElementById('js-extract');

var e;

a_js.addEventListener('click', function (event) {
    e = event;
    alert(event.target.attributes.href.value);
    event.preventDefault();
});

</script>

</td>

<td>escaped code goes here</td>

</tr>

<tr>
<td><a href="/javascript-and-ribs/popup.html">with dojo</a></td>
<td>escaped code goes here</td>
</tr>

<tr>
<td><a href="/javascript-and-ribs/popup.html">with jquery</a></td>
<td>escaped code goes here</td>
</tr>

</tbody>

</table>

</html>
